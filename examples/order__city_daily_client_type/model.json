{
    "dimensions": [
        {
            "name": "date",
            "label": "Date",
            "role": "time",
            "levels": [
                {
                    "name": "year",
                    "label": "Year",
                    "attributes": [
                        {
                            "name": "year",
                            "order": "asc"
                        }
                    ]
                },
                {
                    "name": "quarter",
                    "label": "Quarter",
                    "attributes": [
                        {
                            "name": "quarter",
                            "order": "asc"
                        }
                    ]
                },
                {
                    "name": "month",
                    "label": "Month",
                    "attributes": [
                        {
                            "name": "month",
                            "order": "asc"
                        },
                        {
                            "name": "month_name"
                        }
                    ]
                },
                {
                    "name": "day",
                    "label": "Day",
                    "attributes": [
                        {
                            "name": "day",
                            "order": "asc"
                        }
                    ]
                },
                {
                    "name": "day_of_week",
                    "label": "Day of Week",
                    "attributes": [
                        {
                            "name": "day_of_week",
                            "order": "asc"
                        },
                        {
                            "name": "day_name"
                        }
                    ]
                }
            ],
            "hierarchies": [
                {
                    "name": "ymd",
                    "levels": [
                        "year",
                        "month",
                        "day"
                    ]
                },
                {
                    "name": "yqmd",
                    "levels": [
                        "year",
                        "quarter",
                        "month",
                        "day"
                    ]
                },
                {
                    "name": "weekday",
                    "levels": [
                        "day_of_week"
                    ]
                }
            ]
        },
        {
            "name": "city",
            "label": "City",
            "levels": [
                {
                    "name": "rank",
                    "label": "City Rank",
                    "attributes": [
                        {
                            "name": "rank"
                        }
                    ]
                },
                {
                    "name": "cityid",
                    "label": "City",
                    "attributes": [
                        {
                            "name": "cityid"
                        },
                        {
                            "name": "name"
                        }
                    ]
                },
                {
                    "name": "region_id",
                    "label": "Region",
                    "attributes": [
                        {
                            "name": "region_id"
                        },
                        {
                            "name": "region_name"
                        }
                    ]
                },
                {
                    "name": "district_id",
                    "label": "District",
                    "attributes": [
                        {
                            "name": "district_id"
                        },
                        {
                            "name": "district_name"
                        }
                    ]
                }
            ],
            "hierarchies": [
                {
                    "name": "city_rank",
                    "levels": [
                        "rank",
                        "cityid"
                    ]
                },
                {
                    "name": "city_region",
                    "levels": [
                        "region_id",
                        "district_id",
                        "cityid"
                    ]
                }
            ]
        }
    ],
    "cubes": [
        {
            "name": "order__city_daily_client_type",
            "dimensions": [
                "date", "city"
            ],
            "joins": [
                {
                    "master": "datekey",
                    "detail": {
                        "schema" :"dim",
                        "table": "date",
                        "column": "datekey"
                    }
                },
                {
                    "master": "cityid",
                    "detail": {
                        "schema" :"dim",
                        "table": "city",
                        "column": "cityid"
                    }
                }
            ],
            "measures": [
                {
                    "name": "order_count",
                    "label": "Order Count"
                }
            ],
            "aggregates": [
                {
                    "name": "order_count_sum",
                    "function": "sum",
                    "measure": "order_count"
                },
                {
                    "name": "record_count",
                    "function": "count"
                }
            ],
            "mappings": {
                "date.day" : {
                  "schema": "dim",
                  "table": "date",
                  "column": "datekey"
                }
            }
        }
    ]
}
